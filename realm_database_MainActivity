package com.example.database;
import android.os.Bundle;
import android.widget.Button;
import android.widget.EditText;
import android.widget.TextView;

import androidx.appcompat.app.AppCompatActivity;

import io.realm.Realm;
import io.realm.RealmConfiguration;
import io.realm.RealmResults;

public class MainActivity extends AppCompatActivity {
    EditText nameInput, ageInput;
    Button addButton;
    TextView resultsTextView;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);

        // Initialize Realm
        Realm.init(this);
        RealmConfiguration config = new RealmConfiguration.Builder()
                .name("myrealm.realm")
                .schemaVersion(1)
                .allowWritesOnUiThread(true)
                .build();
        Realm.setDefaultConfiguration(config);

        nameInput = findViewById(R.id.nameInput);
        ageInput = findViewById(R.id.ageInput);
        addButton = findViewById(R.id.addButton);
        resultsTextView = findViewById(R.id.resultsTextView);

        addButton.setOnClickListener(v -> {
            String name = nameInput.getText().toString();
            int age = Integer.parseInt(ageInput.getText().toString());

            Realm realm = Realm.getDefaultInstance();
            realm.executeTransaction(r -> {
                User user = r.createObject(User.class, name);
                user.setAge(age);
            });

            RealmResults<User> users = realm.where(User.class).findAll();
            StringBuilder results = new StringBuilder();
            for (User user : users) {
                results.append("Name: ").append(user.getName()).append(", Age: ").append(user.getAge()).append("\n");
            }
            resultsTextView.setText(results.toString());
        });
    }
}






























